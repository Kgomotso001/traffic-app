{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/contact/contact.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/icon\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/dialog\";\nimport * as i9 from \"@angular/material/select\";\nimport * as i10 from \"@angular/material/core\";\nimport * as i11 from \"@angular/material/progress-bar\";\n\nfunction PaymentComponent_ng_container_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 23);\n    i0.ɵɵtext(2, \"Sending...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"mat-progress-bar\", 24);\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction PaymentComponent_div_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.sent ? \"Message sent successfully\" : \"Message was not sent successfully, please try again\", \" \");\n  }\n}\n\nfunction PaymentComponent_button_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 26);\n    i0.ɵɵtext(1, \"SEND MESSAGE\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r3.quoteForm.status == \"INVALID\");\n  }\n}\n\nfunction PaymentComponent_button_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 27);\n    i0.ɵɵtext(1, \"CLOSE\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let PaymentComponent = /*#__PURE__*/(() => {\n  class PaymentComponent {\n    constructor(formBldr, contactSrvc) {\n      this.formBldr = formBldr;\n      this.contactSrvc = contactSrvc;\n      this.sending = false;\n    }\n\n    ngOnInit() {\n      this.quoteForm = this.formBldr.group({\n        firstName: [null, [Validators.required, Validators.pattern(/^[a-zA-Z]+(([' -][a-zA-Z ])?[a-zA-Z]*)*$/)]],\n        lastName: [null, [Validators.required, Validators.pattern(/^[a-zA-Z]+(([' -][a-zA-Z ])?[a-zA-Z]*)*$/)]],\n        email: [null, [Validators.required, Validators.email]],\n        phone: [null, [Validators.required, Validators.minLength(10), Validators.maxLength(10), Validators.pattern(\"^[0-9]*$\")]],\n        quantity: [null, [Validators.required]],\n        message: [null, [Validators.required, Validators.minLength(2)]]\n      });\n    }\n\n    errorMessage(ctrl) {\n      const form = this.quoteForm.get(ctrl);\n      return form.hasError('required') ? 'is required' : form.hasError('maxlength') ? 'is too long' : form.hasError('minlength') ? 'is too short' : form.hasError('pattern') ? 'can not contain special characters or numbers' : form.hasError('email') ? 'is invalid' : '';\n    }\n\n    phoneErrorMessage(ctrl) {\n      const form = this.quoteForm.get(ctrl);\n      return form.hasError('required') ? 'is required' : form.hasError('pattern') ? 'should be only contain numbers' : form.hasError('maxlength') ? 'is too long' : form.hasError('minlength') ? 'is too short' : '';\n    }\n\n    sendMessage(formDirective) {\n      this.sending = true;\n      let email = {\n        name: `${this.quoteForm.value.firstName} ${this.quoteForm.value.lastName}`,\n        replyTo: this.quoteForm.value.email,\n        subject: \"Quote from \" + this.quoteForm.value.firstName + ' ' + this.quoteForm.value.lastName,\n        message: `${this.quoteForm.value.firstName} ${this.quoteForm.value.lastName} has requested ${this.quoteForm.value.quantity} vouchers. contact number is ${this.quoteForm.value.phone}. Message: ${this.quoteForm.value.message}`\n      };\n\n      if (this.quoteForm.status != \"VALID\") {\n        return;\n      }\n\n      this.contactSrvc.sendEmail(email).then(resp => {\n        //console.log(resp);\n        formDirective.resetForm();\n        this.quoteForm.reset();\n        this.sent = true;\n        this.sending = false;\n      }).catch(error => {\n        //console.log(error);\n        formDirective.resetForm();\n        this.quoteForm.reset();\n        this.sent = false;\n        this.sending = false;\n      });\n    }\n\n  }\n\n  PaymentComponent.ɵfac = function PaymentComponent_Factory(t) {\n    return new (t || PaymentComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ContactService));\n  };\n\n  PaymentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PaymentComponent,\n    selectors: [[\"app-payment\"]],\n    decls: 65,\n    vars: 11,\n    consts: [[\"id\", \"container\"], [\"id\", \"header\"], [1, \"row-2\"], [\"id\", \"price\"], [\"mat-mini-fab\", \"\", \"mat-dialog-close\", \"\"], [\"id\", \"body\"], [3, \"formGroup\", \"ngSubmit\"], [\"formDirective\", \"ngForm\"], [\"id\", \"grid\"], [\"matInput\", \"\", \"formControlName\", \"firstName\"], [\"matInput\", \"\", \"formControlName\", \"lastName\"], [\"matInput\", \"\", \"formControlName\", \"email\"], [\"matInput\", \"\", \"formControlName\", \"phone\"], [\"formControlName\", \"quantity\"], [\"value\", \"500\"], [\"value\", \"501-1000\"], [\"value\", \"1001-2000\"], [\"value\", \"2001\"], [\"matInput\", \"\", \"formControlName\", \"message\", \"placeholder\", \"Write your message...\"], [4, \"ngIf\"], [\"id\", \"feedback\", 4, \"ngIf\"], [\"id\", \"checkout\", \"mat-button\", \"\", 3, \"disabled\", 4, \"ngIf\"], [\"id\", \"checkout\", \"mat-button\", \"\", \"mat-dialog-close\", \"\", 4, \"ngIf\"], [2, \"text-align\", \"center\", \"padding\", \"10px\", \"font-weight\", \"bold\"], [\"mode\", \"query\"], [\"id\", \"feedback\"], [\"id\", \"checkout\", \"mat-button\", \"\", 3, \"disabled\"], [\"id\", \"checkout\", \"mat-button\", \"\", \"mat-dialog-close\", \"\"]],\n    template: function PaymentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r5 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"span\");\n        i0.ɵɵtext(4, \"Request a quote\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"span\", 3)(6, \"button\", 4)(7, \"mat-icon\");\n        i0.ɵɵtext(8, \"close\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(9, \"div\", 5)(10, \"h4\");\n        i0.ɵɵtext(11, \"Any questions or remarks? Just leave us a message!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"form\", 6, 7);\n        i0.ɵɵlistener(\"ngSubmit\", function PaymentComponent_Template_form_ngSubmit_12_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r0 = i0.ɵɵreference(13);\n\n          return i0.ɵɵresetView(ctx.sendMessage(_r0));\n        });\n        i0.ɵɵelementStart(14, \"div\", 8)(15, \"mat-form-field\")(16, \"mat-label\");\n        i0.ɵɵtext(17, \"First name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"input\", 9);\n        i0.ɵɵelementStart(19, \"mat-error\");\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"mat-form-field\")(22, \"mat-label\");\n        i0.ɵɵtext(23, \"Last name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(24, \"input\", 10);\n        i0.ɵɵelementStart(25, \"mat-error\");\n        i0.ɵɵtext(26);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"mat-form-field\")(28, \"mat-label\");\n        i0.ɵɵtext(29, \"Mail\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(30, \"input\", 11);\n        i0.ɵɵelementStart(31, \"mat-error\");\n        i0.ɵɵtext(32);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(33, \"mat-form-field\")(34, \"mat-label\");\n        i0.ɵɵtext(35, \"Phone\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(36, \"input\", 12);\n        i0.ɵɵelementStart(37, \"mat-error\");\n        i0.ɵɵtext(38);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(39, \"h4\");\n        i0.ɵɵtext(40, \"Give an estimate of the vouchers you require\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"mat-form-field\")(42, \"mat-label\");\n        i0.ɵɵtext(43, \"Number of vouchers\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"mat-select\", 13)(45, \"mat-option\", 14);\n        i0.ɵɵtext(46, \" Less than 500 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"mat-option\", 15);\n        i0.ɵɵtext(48, \" 501 to 1000 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"mat-option\", 16);\n        i0.ɵɵtext(50, \" 1001 to 2000 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"mat-option\", 17);\n        i0.ɵɵtext(52, \" 2001 and above \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(53, \"mat-error\");\n        i0.ɵɵtext(54);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(55, \"mat-form-field\")(56, \"mat-label\");\n        i0.ɵɵtext(57, \"Message\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(58, \"textarea\", 18);\n        i0.ɵɵelementStart(59, \"mat-error\");\n        i0.ɵɵtext(60);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(61, PaymentComponent_ng_container_61_Template, 4, 0, \"ng-container\", 19);\n        i0.ɵɵtemplate(62, PaymentComponent_div_62_Template, 2, 1, \"div\", 20);\n        i0.ɵɵtemplate(63, PaymentComponent_button_63_Template, 2, 1, \"button\", 21);\n        i0.ɵɵtemplate(64, PaymentComponent_button_64_Template, 2, 0, \"button\", 22);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"formGroup\", ctx.quoteForm);\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate1(\" First name \", ctx.errorMessage(\"firstName\"), \" \");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" Last name \", ctx.errorMessage(\"lastName\"), \" \");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" Email address \", ctx.errorMessage(\"email\"), \" \");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" Phone number \", ctx.phoneErrorMessage(\"phone\"), \" \");\n        i0.ɵɵadvance(16);\n        i0.ɵɵtextInterpolate1(\" Quantity \", ctx.errorMessage(\"quantity\"), \" \");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" Message \", ctx.errorMessage(\"message\"), \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.sending);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.sending && ctx.sent != null);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.sent == null);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.sending && ctx.sent != null);\n      }\n    },\n    dependencies: [i3.NgIf, i4.MatIcon, i5.MatButton, i6.MatError, i6.MatFormField, i6.MatLabel, i7.MatInput, i8.MatDialogClose, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i9.MatSelect, i10.MatOption, i11.MatProgressBar],\n    styles: [\"#container[_ngcontent-%COMP%]{width:500px}#header[_ngcontent-%COMP%]{background:#060F1C;height:106px;color:#fff;padding:20px;box-sizing:border-box}#header[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]{text-align:right}#header[_ngcontent-%COMP%]   .row-2[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;font-weight:700}#header[_ngcontent-%COMP%]   .row-2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:linear-gradient(45deg,#FCA311,#FF2525)}#body[_ngcontent-%COMP%]{padding:0 20px 30px}#body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:20px 0;font-weight:700}#body[_ngcontent-%COMP%]   #grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:5px 40px;gap:5px 40px}#body[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}#body[_ngcontent-%COMP%]   #checkout[_ngcontent-%COMP%]{margin-top:6px;background:linear-gradient(45deg,#FCA311,#FF2525);padding:5px 60px;color:#f5f4f2;border-radius:30px;text-transform:uppercase;text-align:center;width:100%}#body[_ngcontent-%COMP%]   #checkout[_ngcontent-%COMP%]:disabled{background:#dddddd}#feedback[_ngcontent-%COMP%]{padding:10px;text-align:center;font-weight:700;border-radius:10px;border:2px solid #FCA311}\"]\n  });\n  return PaymentComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}