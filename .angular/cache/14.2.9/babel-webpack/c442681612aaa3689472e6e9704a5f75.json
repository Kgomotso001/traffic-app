{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet CreateProductComponent = class CreateProductComponent {\n  constructor(_formBuilder, router, usersService, reportsServices) {\n    this._formBuilder = _formBuilder;\n    this.router = router;\n    this.usersService = usersService;\n    this.reportsServices = reportsServices;\n  }\n\n  ngOnInit() {\n    this.getLocation();\n    this.productDetailsFormGroup = this._formBuilder.group({\n      comment: [null, [Validators.maxLength(255), Validators.minLength(2)]],\n      status: ['', Validators.required]\n    });\n    this.usersService.getActiveUser().subscribe(resp => {\n      this.user = resp;\n    });\n  }\n\n  createReport() {\n    // return this.router.navigate(['dashboard/'])\n    let report = {\n      userId: this.user.userId,\n      incident: this.productDetailsFormGroup.value.status,\n      comment: this.productDetailsFormGroup.value.comment,\n      location: {\n        latitude: this.location.latitude,\n        longitude: this.location.longitude\n      }\n    }; //// console.log(report);\n\n    this.reportsServices.createReport(report).then(resp => {////console.log(resp);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  getLocation() {\n    const successCallback = position => {\n      ////console.log(position);\n      this.location = position.coords; ////console.log(this.location);\n    };\n\n    const errorCallback = error => {\n      console.log(error);\n    };\n\n    navigator.geolocation.getCurrentPosition(successCallback, errorCallback);\n  }\n\n};\nCreateProductComponent = __decorate([Component({\n  selector: 'app-create-product',\n  templateUrl: './create-product.component.html',\n  styleUrls: ['./create-product.component.scss']\n})], CreateProductComponent);\nexport { CreateProductComponent };","map":null,"metadata":{},"sourceType":"module"}