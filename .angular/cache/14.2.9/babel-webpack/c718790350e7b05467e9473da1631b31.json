{"ast":null,"code":"import { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/users/users.service\";\nimport * as i4 from \"src/app/services/reports/reports.service\";\n\nfunction CreateProductComponent_ng_template_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"t-retail Report\");\n  }\n}\n\nexport let CreateProductComponent = /*#__PURE__*/(() => {\n  class CreateProductComponent {\n    constructor(_formBuilder, router, usersService, reportsServices) {\n      this._formBuilder = _formBuilder;\n      this.router = router;\n      this.usersService = usersService;\n      this.reportsServices = reportsServices;\n      this.usersService.getActiveUser().subscribe(user => {\n        this.user = user;\n      });\n    }\n\n    ngOnInit() {\n      this.getLocation();\n      this.productDetailsFormGroup = this._formBuilder.group({\n        comment: [null, [Validators.maxLength(255), Validators.minLength(2)]],\n        status: ['', Validators.required]\n      });\n      this.usersService.getActiveUser().subscribe(resp => {\n        this.user = resp;\n        console.log(this.user);\n      });\n    }\n\n    updateProduct() {\n      // return this.router.navigate(['dashboard/'])\n      let report = {\n        userId: this.user.userId,\n        incident: this.productDetailsFormGroup.value.status,\n        comment: this.productDetailsFormGroup.value.comment,\n        location: {\n          latitude: this.location.latitude,\n          longitude: this.location.longitude\n        }\n      }; //// console.log(report);\n\n      this.reportsServices.createReport(report).then(resp => {////console.log(resp);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n    getLocation() {\n      const successCallback = position => {\n        ////console.log(position);\n        this.location = position.coords; ////console.log(this.location);\n      };\n\n      const errorCallback = error => {\n        console.log(error);\n      };\n\n      navigator.geolocation.getCurrentPosition(successCallback, errorCallback);\n    }\n\n  }\n\n  CreateProductComponent.ɵfac = function CreateProductComponent_Factory(t) {\n    return new (t || CreateProductComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.UsersService), i0.ɵɵdirectiveInject(i4.ReportsService));\n  };\n\n  CreateProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CreateProductComponent,\n    selectors: [[\"app-create-product\"]],\n    decls: 46,\n    vars: 2,\n    consts: [[\"id\", \"left\"], [\"id\", \"vertical-rule\"], [\"id\", \"right\"], [\"id\", \"profile\", 3, \"matMenuTriggerFor\"], [\"menu\", \"matMenu\"], [1, \"wrapper\"], [3, \"formGroup\"], [\"matStepLabel\", \"\"], [1, \"grid\"], [\"appearance\", \"outline\"], [\"formControlName\", \"status\"], [\"value\", \"VEHICLE_COLLISION\"], [\"value\", \"STATIONARY_VEHICLE\"], [\"value\", \"PEDESTRIAN_INCIDENT\"], [\"matInput\", \"\", \"formControlName\", \"comment\"], [\"value\", \"CURRENT_LOCATION\"], [\"mat-stroked-button\", \"\", 3, \"click\"]],\n    template: function CreateProductComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"header\")(1, \"nav\")(2, \"div\", 0)(3, \"div\");\n        i0.ɵɵtext(4, \" MY t-retail APP \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"div\", 1);\n        i0.ɵɵelementStart(6, \"ul\")(7, \"li\");\n        i0.ɵɵtext(8, \"Report t-retail\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(9, \"div\", 2)(10, \"div\", 3)(11, \"mat-icon\");\n        i0.ɵɵtext(12, \"account_box\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"mat-menu\", null, 4);\n        i0.ɵɵelement(15, \"app-account\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(16, \"div\", 5)(17, \"main\")(18, \"form\", 6);\n        i0.ɵɵtemplate(19, CreateProductComponent_ng_template_19_Template, 1, 0, \"ng-template\", 7);\n        i0.ɵɵelementStart(20, \"h4\");\n        i0.ɵɵtext(21, \"t-retail Report\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 8)(23, \"mat-form-field\", 9)(24, \"mat-label\");\n        i0.ɵɵtext(25, \"Incident\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"mat-select\", 10)(27, \"mat-option\", 11);\n        i0.ɵɵtext(28, \" Vehicle Collision \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"mat-option\", 12);\n        i0.ɵɵtext(30, \" Stationary Vehicle \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"mat-option\", 13);\n        i0.ɵɵtext(32, \" Pedestrian Incident \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(33, \"mat-form-field\", 9)(34, \"mat-label\");\n        i0.ɵɵtext(35, \"Comment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(36, \"input\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"mat-form-field\", 9)(38, \"mat-label\");\n        i0.ɵɵtext(39, \"Location\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"mat-select\")(41, \"mat-option\", 15);\n        i0.ɵɵtext(42, \" Current location \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(43, \"div\")(44, \"button\", 16);\n        i0.ɵɵlistener(\"click\", function CreateProductComponent_Template_button_click_44_listener() {\n          return ctx.updateProduct();\n        });\n        i0.ɵɵtext(45, \"Save\");\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(14);\n\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"matMenuTriggerFor\", _r0);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"formGroup\", ctx.productDetailsFormGroup);\n      }\n    },\n    styles: [\"header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:99;background:#F2F3F5}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{width:calc(100% - 80px);height:80px;margin:auto;display:flex;flex-direction:row;align-items:center;justify-content:space-between}header[_ngcontent-%COMP%]   #left[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}header[_ngcontent-%COMP%]   #left[_ngcontent-%COMP%]   #logo[_ngcontent-%COMP%]{background:url(t-retail.svg) left center no-repeat;background-size:contain;height:80px;width:150px}header[_ngcontent-%COMP%]   #left[_ngcontent-%COMP%]   #vertical-rule[_ngcontent-%COMP%]{border-left:1px solid #8D99AE;height:40px;margin:0 60px}header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-decoration:none;margin:0;padding:0}header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-right:30px;font-weight:700;cursor:pointer}header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-right:0}header[_ngcontent-%COMP%]   #cart[_ngcontent-%COMP%]{margin-left:40px}header[_ngcontent-%COMP%]   #cart[_ngcontent-%COMP%]   #padding[_ngcontent-%COMP%]{padding:20px}header[_ngcontent-%COMP%]   #cart[_ngcontent-%COMP%]   #quantity[_ngcontent-%COMP%]{text-align:center;height:24px;width:24px;line-height:24px;border-radius:50%;background:#2B2D42;position:absolute;margin-left:24px;margin-top:-12px;color:#fff}header[_ngcontent-%COMP%]   #right[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]{padding:7px;height:40px;width:40px;border-radius:4px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}header[_ngcontent-%COMP%]   #right[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:block;color:#8d99ae;font-size:40px!important}.wrapper[_ngcontent-%COMP%]{width:960px;margin:auto}.h2[_ngcontent-%COMP%]{font-weight:700;font-size:2em;margin:1.7em 0}.h3[_ngcontent-%COMP%]{font-weight:700;font-size:1.7em;margin:1.2em 0}.chart[_ngcontent-%COMP%]{position:relative}.chart[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{position:relative;height:400px!important;width:1080px!important}main[_ngcontent-%COMP%]{margin-top:80px;padding-top:40px}main[_ngcontent-%COMP%]   #heading[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 20px;font-weight:700;text-transform:uppercase}main[_ngcontent-%COMP%]   #controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 250px;grid-gap:20px;gap:20px}main[_ngcontent-%COMP%]   #controls[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}main[_ngcontent-%COMP%]   #controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:3px;height:53px}main[_ngcontent-%COMP%]   #stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:40px;gap:40px;margin-bottom:20px}main[_ngcontent-%COMP%]   #stats[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   #stats[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:4px 0}main[_ngcontent-%COMP%]   #stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{box-sizing:border-box;padding:20px;border-radius:10px;display:flex;flex-direction:row;align-items:center;justify-content:space-between}main[_ngcontent-%COMP%]   #stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   #stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:right}main[_ngcontent-%COMP%]   #stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]:nth-child(1){background-image:linear-gradient(120deg,#e0c3fc 0%,#8ec5fc 100%)}main[_ngcontent-%COMP%]   #stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]:nth-child(2){background-image:linear-gradient(120deg,#84fab0 0%,#8fd3f4 100%)}main[_ngcontent-%COMP%]   #stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]:nth-child(3){background-image:linear-gradient(120deg,#a1c4fd 0%,#c2e9fb 100%)}main[_ngcontent-%COMP%]   #stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]:nth-child(4){background-image:linear-gradient(to right,#4facfe 0%,#00f2fe 100%)}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:20px;gap:20px}table[_ngcontent-%COMP%]{width:100%;background:#F2F3F5}mat-paginator[_ngcontent-%COMP%]{background:#F2F3F5}\"]\n  });\n  return CreateProductComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}